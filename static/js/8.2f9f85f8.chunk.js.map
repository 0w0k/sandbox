{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","routes/Home.tsx"],"names":["_slicedToArray","arr","i","Array","isArray","_arrayWithHoles","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","push","value","length","err","_iterableToArrayLimit","TypeError","_nonIterableRest","__webpack_require__","d","__webpack_exports__","_toConsumableArray","arr2","_arrayWithoutHoles","iter","Object","prototype","toString","call","from","_iterableToArray","_nonIterableSpread","HOOK_PATH","Path2D","SCALE","Home","_useState","useState","_useState2","slicedToArray","locations","setLocations","canvasRef","useRef","useEffect","canvas","current","ctx","getContext","clearRect","window","innerHeight","innerWidth","forEach","location","offsetTop","offsetLeft","fillStyle","shadowColor","shadowBlur","save","scale","translate","x","y","fill","restore","draw","react_default","a","createElement","ref","width","height","style","border","display","margin","onMouseMove","e","newLocations","pageX","pageY","l","concat"],"mappings":"0FAGe,SAAAA,EAAAC,EAAAC,GACf,OCJe,SAAAD,GACf,GAAAE,MAAAC,QAAAH,GAAA,OAAAA,EDGSI,CAAcJ,IEJR,SAAAA,EAAAC,GACf,IAAAI,EAAA,GACAC,GAAA,EACAC,GAAA,EACAC,OAAAC,EAEA,IACA,QAAAC,EAAAC,EAAAX,EAAAY,OAAAC,cAA6CP,GAAAI,EAAAC,EAAAG,QAAAC,QAC7CV,EAAAW,KAAAN,EAAAO,QAEAhB,GAAAI,EAAAa,SAAAjB,GAH4EK,GAAA,IAKzE,MAAAa,GACHZ,GAAA,EACAC,EAAAW,EACG,QACH,IACAb,GAAA,MAAAK,EAAA,QAAAA,EAAA,SACK,QACL,GAAAJ,EAAA,MAAAC,GAIA,OAAAH,EFnBgCe,CAAoBpB,EAAAC,IGJrC,WACf,UAAAoB,UAAA,wDHGgEC,GAJhEC,EAAAC,EAAAC,EAAA,sBAAA1B,sCIGe,SAAA2B,EAAA1B,GACf,OCJe,SAAAA,GACf,GAAAE,MAAAC,QAAAH,GAAA,CACA,QAAAC,EAAA,EAAA0B,EAAA,IAAAzB,MAAAF,EAAAkB,QAAiDjB,EAAAD,EAAAkB,OAAgBjB,IACjE0B,EAAA1B,GAAAD,EAAAC,GAGA,OAAA0B,GDFSC,CAAiB5B,IEJX,SAAA6B,GACf,GAAAjB,OAAAC,YAAAiB,OAAAD,IAAA,uBAAAC,OAAAC,UAAAC,SAAAC,KAAAJ,GAAA,OAAA3B,MAAAgC,KAAAL,GFGmCM,CAAenC,IGJnC,WACf,UAAAqB,UAAA,mDHG2De,6EIH3D,IACMC,EAAY,IAAIC,OADJ,28BAEZC,EAAQ,GAKC,SAASC,IAAO,IAAAC,EACKC,mBAAqB,IAD1BC,EAAAb,OAAAc,EAAA,EAAAd,CAAAW,EAAA,GACtBI,EADsBF,EAAA,GACXG,EADWH,EAAA,GAEvBI,EAAYC,iBAAO,MA6CzB,OARAC,oBAAU,WACR,IAAMC,EAA4BH,EAAUI,QACtCC,EAAgCF,EAAOG,WAAW,MAGxDD,EAAIE,UAAU,EAAG,EAAGC,OAAOC,YAAaD,OAAOE,YAC/CZ,EAAUa,QAAQ,SAAAC,GAAQ,OAhB5B,SAAcP,EAA+BO,EAAoBC,EAAmBC,GAClFT,EAAIU,UAAY,cAChBV,EAAIW,YAAc,aAClBX,EAAIY,WAAa,GACjBZ,EAAIa,OACJb,EAAIc,MAAM3B,EAAOA,GACjBa,EAAIe,WAAWR,EAASS,EAAIP,GAActB,GAAQoB,EAASU,EAAIT,GAAarB,GAC5Ea,EAAIkB,KAAKjC,GACTe,EAAImB,UAQ0BC,CAAKpB,EAAKO,EAAUT,EAAOU,UAAWV,EAAOW,gBAG3EY,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,UACEC,IAAK7B,EACL8B,MAAO,IACPC,OAAQ,IACRC,MAAO,CAAEC,OAAQ,iBAAkBC,QAAS,QAASC,OAAQ,aAC7DC,YAAa,SAAAC,GACX,IAAMC,EAAe,CAAEjB,EAAGgB,EAAEE,MAAOjB,EAAGe,EAAEG,OACxCzC,EAAa,SAAA0C,GAAC,SAAAC,OAAA/D,EAAQ8D,GAAR,CAAWH","file":"static/js/8.2f9f85f8.chunk.js","sourcesContent":["import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}","export default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}","export default function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}","import React, { useRef, useEffect, useState } from 'react';\nconst HOOK_SVG =  'm129.03125 63.3125c0-34.914062-28.941406-63.3125-64.519531-63.3125-35.574219 0-64.511719 28.398438-64.511719 63.3125 0 29.488281 20.671875 54.246094 48.511719 61.261719v162.898437c0 53.222656 44.222656 96.527344 98.585937 96.527344h10.316406c54.363282 0 98.585938-43.304688 98.585938-96.527344v-95.640625c0-7.070312-4.640625-13.304687-11.414062-15.328125-6.769532-2.015625-14.082032.625-17.960938 6.535156l-42.328125 64.425782c-4.847656 7.390625-2.800781 17.3125 4.582031 22.167968 7.386719 4.832032 17.304688 2.792969 22.160156-4.585937l12.960938-19.71875v42.144531c0 35.582032-29.863281 64.527344-66.585938 64.527344h-10.316406c-36.714844 0-66.585937-28.945312-66.585937-64.527344v-162.898437c27.847656-7.015625 48.519531-31.773438 48.519531-61.261719zm-97.03125 0c0-17.265625 14.585938-31.3125 32.511719-31.3125 17.929687 0 32.511719 14.046875 32.511719 31.3125 0 17.261719-14.582032 31.3125-32.511719 31.3125-17.925781 0-32.511719-14.050781-32.511719-31.3125zm0 0'\nconst HOOK_PATH = new Path2D(HOOK_SVG);\nconst SCALE = 0.1;\ninterface location {\n  x: number,\n  y: number\n}\nexport default function Home() {\n  const [locations, setLocations] = useState<location[]>([]);\n  const canvasRef = useRef(null);\n  // function drawHeart(ctx: CanvasRenderingContext2D, x: number, y: number, R: number, rot: number) {\n  //   ctx.save();\n  //   ctx.translate(x, y);\n  //   ctx.rotate(rot / 180 * Math.PI);\n  //   ctx.scale(R, R);\n  //   heartPath(ctx);\n  //   ctx.strokeStyle = \"red\";\n  //   ctx.lineWidth = 3;\n  //   ctx.shadowColor = \"gray\";\n  //   ctx.shadowOffsetX = 5;\n  //   ctx.shadowOffsetY = 5;\n  //   ctx.shadowBlur = 5;\n  //   ctx.fill();\n  //   // ctx.stroke();\n  //   ctx.restore();\n  // }\n  // function heartPath(ctx: CanvasRenderingContext2D) {\n  //   ctx.beginPath();\n  //   ctx.arc(-1, 0, 1, Math.PI, 0, false);\n  //   ctx.arc(1, 0, 1, Math.PI, 0, false);\n  //   //貝塞尔曲线画心\n  //   ctx.bezierCurveTo(1.9, 1.2, 0.6, 1.6, 0, 3.0);\n  //   ctx.bezierCurveTo(-0.6, 1.6, -1.9, 1.2, -2, 0);\n  //   ctx.closePath();\n  // }\n\n  function draw(ctx: CanvasRenderingContext2D, location: location, offsetTop: number, offsetLeft: number) {\n    ctx.fillStyle = 'deepskyblue'\n    ctx.shadowColor = 'dodgerblue'\n    ctx.shadowBlur = 20\n    ctx.save()\n    ctx.scale(SCALE, SCALE)\n    ctx.translate((location.x - offsetLeft) / SCALE, (location.y - offsetTop) / SCALE)\n    ctx.fill(HOOK_PATH)\n    ctx.restore()\n  }\n  useEffect(() => {\n    const canvas: HTMLCanvasElement = canvasRef.current!;\n    const ctx: CanvasRenderingContext2D = canvas.getContext('2d')!;\n    // drawHeart(ctx, 400, 400, 40, 20);\n    // @todo 优化增量修改\n    ctx.clearRect(0, 0, window.innerHeight, window.innerWidth)\n    locations.forEach(location => draw(ctx, location, canvas.offsetTop, canvas.offsetLeft))\n  })\n  return (\n    <div>\n      <canvas\n        ref={canvasRef}\n        width={600}\n        height={600}\n        style={{ border: '1px solid #aaa', display: 'block', margin: '50px auto' }}\n        onMouseMove={e => {\n          const newLocations = { x: e.pageX, y: e.pageY };\n          setLocations(l => [...l, newLocations])\n        }}\n      />\n    </div>\n  )\n}"],"sourceRoot":""}